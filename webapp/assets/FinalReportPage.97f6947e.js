import{as as y,j as d,c,a9 as a,aa as i,aB as g,F as x,r as Q,f as l,ab as m,aC as k,af as $,ae as w,Q as B,ac as C}from"./index.ba1f8bfc.js";import{Q as R,a as j}from"./QCard.77c9ece9.js";import{Q as V}from"./QSelect.581cba94.js";import{u as F}from"./vue-i18n.runtime.esm-bundler.ccce4469.js";import{u as L}from"./timer.07a940e5.js";import"./use-dark.7dccdc23.js";import"./use-key-composition.f3adaa84.js";import"./focus-manager.02955f48.js";import"./QItemLabel.3ddcd92b.js";import"./position-engine.3b967782.js";import"./focusout.053f8763.js";const b=y("score",()=>{const s=[];function t(e,n){s[e]=n}function o(){return s.reduce((e,n)=>e+n,0)}return{update_selection:t,total:o}}),N=["innerHTML"],v=d({__name:"BreakableSpan",props:{text:{type:String,required:!0}},setup(s){const t=s,o=c(()=>t.text.split(" ").filter(e=>e.length>0).map(e=>e+"&nbsp;"));return(e,n)=>(a(!0),i(x,null,g(o.value,(r,p)=>(a(),i("span",{key:p,innerHTML:r,class:"q-my-sm"},null,8,N))),128))}}),T=m("span",null," \xA0 ",-1),H=d({__name:"ReportQuestion",props:{index:{type:Number,required:!0},question:{required:!0}},setup(s){const t=s,{rt:o}=F(),e=b(),n=c(()=>t.question),r=c(()=>o(n.value.text).split("/$$")[0]),p=c(()=>o(n.value.text).split("/$$")[1]),_=c(()=>n.value.options.map(f=>({label:o(f.label),score:f.score}))),u=Q({label:"",score:0});function q(){e.update_selection(t.index,u.value.score)}return(f,h)=>(a(),i(x,null,[l(v,{text:r.value},null,8,["text"]),l(V,{modelValue:u.value,"onUpdate:modelValue":[h[0]||(h[0]=S=>u.value=S),q],options:_.value,"transition-show":"jump-up","transition-hide":"jump-up",outlined:"",dense:"","options-dense":"",color:"accent"},null,8,["modelValue","options"]),T,l(v,{text:p.value},null,8,["text"])],64))}}),M={class:"row wrap justify-start items-center"},P={class:"row justify-end"},A="general.finalReport.",D=d({__name:"ReportComponent",setup(s){const t=k(),o=L(),e=b();function n(){const r=e.total();t.push(`/ending/${r}`),o.stop_timer()}return(r,p)=>(a(),i("div",null,[l(R,null,{default:$(()=>[l(j,null,{default:$(()=>[m("div",M,[(a(!0),i(x,null,g(r.$tm("ending.questions"),(_,u)=>(a(),w(H,{key:u,index:u,question:_},null,8,["index","question"]))),128))]),m("div",P,[l(B,{label:r.$t(A+"submit"),color:"accent",onClick:n},null,8,["label"])])]),_:1})]),_:1})]))}}),E={class:"text-center",style:{padding:"0 16px",margin:"0 auto","max-width":"800px"}},I={class:"q-mt-lg q-mb-sm text-center"},U="general.finalReport.",oe=d({__name:"FinalReportPage",setup(s){return(t,o)=>(a(),i("div",E,[m("h4",I,C(t.$t(U+"title")),1),l(D)]))}});export{oe as default};
